<head th:insert="parts/common :: head"></head>

<head>
    <meta charset="UTF-8">
    <title>Profile</title>
</head>

<body>
<header th:insert="parts/menu"></header>

<div class="container">
    <br>
    <h1>User profile</h1>

    <form style="margin-top: 30px" th:action="@{/user/profile}" th:object="${user}" method="post">
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label"> User name :</label>
            <div class="col-sm-3">
                <input type="text" id="username" name="username" th:field="*{username}" class="form-control"
                       placeholder="User name"/>
                <div style="color:red;" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username
                    error
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label"> Email: </label>
            <div class="col-sm-3">
                <input type="email" id="email" name="email" th:field="*{email}" class="form-control"
                       placeholder="Email"/>
                <div style="color:red;" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email error</div>
            </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label"> Password: </label>
            <div class="col-sm-3">
                <input type="password" id="password" name="password" th:field="*{password}" class="form-control"
                       placeholder="Password"/>
                <div style="color:red;" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password
                    error
                </div>
            </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label">Repeat password: </label>
            <div class="col-sm-3">
                <input type="password" name="matchingPassword" th:field="*{matchingPassword}" class="form-control"
                       placeholder="Repeat password"/>
                <div style="color:red;" th:if="${#fields.hasErrors('matchingPassword')}"
                     th:errors="*{matchingPassword}">Password error
                </div>
            </div>
        </div>
        <input type="hidden" name="id" th:value="${user.id}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button class="btn btn-primary" type="submit">Save</button>
    </form>

    <div th:replace="parts/common :: scripts"></div>
</div>

<footer th:insert="parts/footer"></footer>
</body>