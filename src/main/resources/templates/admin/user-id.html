<head th:insert="parts/common :: head"></head>

<head>
    <meta charset="UTF-8">
    <title>Edit user</title>
</head>

<body>
<header th:insert="parts/menu"></header>

<div class="container" style="margin-top: 50px">
    <h1>User editor</h1>

    <form th:action="@{/admin/user}" th:method="POST" th:object="${user}">
        <div class="row mb-3">
            <label class="col-sm-1 col-form-label"> Username: </label>
            <div class="col-sm-2">
                <input type="text" class="form-control" name="username" th:value="${user.username}">
                <div style="color:red;" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username
                    error
                </div>
            </div>
        </div>

        <div class="custom-control custom-radio custom-control-inline">
            <div class="col-sm-3">
                <input type="radio" th:field="${user.role}" th:text="' ROLE_ADMIN'" value="ROLE_ADMIN"
                       class="custom-control-input">
                <br>
                <input type="radio" th:field="${user.role}" th:text="' ROLE_USER'" value="ROLE_USER"
                       class="custom-control-input mt-1">
            </div>
        </div>

        <input type="hidden" name="password" th:value="${user.password}">
        <input type="hidden" name="email" th:value="${user.email}">
        <input type="hidden" name="id" th:value="${user.id}">
        <input type="hidden" th:value="${_csrf.token}" th:name="${_csrf.parameterName}">
        <button class="btn btn-primary mt-2" type="submit">Save</button>
    </form>

</div>

<footer th:insert="parts/footer"></footer>
</body>